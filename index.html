
<!DOCTYPE html>
<html lang="zh-TW">
<head>
<link rel="icon" href="logo.png" type="image/png">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>2A夫妻｜嚴選團購好物</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", sans-serif;
            background: #faf8f5;
            color: #333;
        }

        /* Header */
        .header {
            background: #fdfdfc;
            padding: 12px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .left-area { display:flex; align-items:center; gap:12px; min-width:0; }

        .menu-icon { 
            font-size: 28px; 
            cursor: pointer; 
            color: #666; 
            padding: 6px; 
            border-radius: 6px; 
            background: transparent; 
        }
        .menu-icon:hover { background: rgba(0,0,0,0.02); }

        .logo { display: flex; align-items: center; gap: 10px; justify-content:center; flex:1; min-width:0; }
        .logo-icon { width: 50px; height: 50px; }
        .logo-icon img { width: 100%; height: 100%; object-fit: contain; }

        .logo-text h1 { font-size: 20px; color: #5a4a3a; font-weight: 700; }
        .logo-text p { font-size: 12px; color: #999; }

        .header-actions { display:flex; align-items:center; gap:8px; justify-content:flex-end; }

        .icon-btn {
            display:inline-flex;
            align-items:center;
            justify-content:center;
            width:40px;
            height:40px;
            border-radius:10px;
            background:transparent;
            border:1px solid transparent;
            cursor:pointer;
            color:#8b7355;
            transition: background 0.15s, color 0.15s;
        }
        .icon-btn:hover { background: rgba(0,0,0,0.03); }

        .header-search-dropdown {
            position: absolute;
            right: 20px;
            top: 62px;
            z-index: 1200;
            width: 360px;
            max-width: calc(100% - 40px);
            background: white;
            border-radius: 10px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            padding: 10px;
            display: none;
        }
        .header-search-dropdown.open { display: block; }

        .search-box {
            width: 100%; 
            padding: 10px 14px; 
            border: 1px solid #ddd;
            border-radius: 8px; 
            font-size: 15px; 
            background: white;
        }

        /* Filter Tabs */
        .filter-tabs { 
            max-width: 1400px; 
            margin: 20px auto; 
            padding: 0 20px; 
            display:flex; 
            gap:10px; 
            flex-wrap:wrap; 
            position: sticky; 
            top: 76px; 
            z-index: 900; 
            background: #faf8f5; 
            padding-top: 10px; 
            padding-bottom: 10px;
        }
        
        .filter-tab {
            padding: 10px 25px; 
            border-radius: 25px; 
            border: none; 
            cursor: pointer;
            font-size: 15px; 
            transition: all 0.3s; 
            font-weight: 500;
        }
        .filter-tab.active { background: #f5e6d3; color: #8b7355; }
        .filter-tab:not(.active) { background: #f0f0f0; color: #999; }
        .filter-tab:hover { background: #f5e6d3; color: #8b7355; }

        .results-info { 
            max-width: 1400px; 
            margin: 20px auto; 
            padding: 0 20px; 
            color: #999; 
            font-size: 14px; 
        }

        .section-header { 
            max-width: 1400px; 
            margin: 40px auto 20px; 
            padding: 0 20px; 
            text-align: center; 
        }
        
        .section-title {
            display: inline-flex; 
            align-items: center; 
            gap: 10px;
            font-size: 28px; 
            font-weight: 700; 
            color: #5a4a3a;
        }

        /* Countdown Banner */
        .countdown-banner { max-width: 1400px; margin: 20px auto; padding: 0 20px; }
        .countdown-content {
            background: #fff4e6; 
            border: 2px solid #f5d5a0; 
            border-radius: 12px;
            padding: 15px 20px; 
            display:flex; 
            align-items:center; 
            justify-content:space-between;
        }
        .countdown-left { 
            display:flex; 
            align-items:center; 
            gap:10px; 
            font-size:16px; 
            color:#8b7355; 
        }
        .countdown-right {
            color: #8b7355; 
            font-size: 16px; 
            font-weight:700; 
            display:flex; 
            align-items:center; 
            gap:10px;
        }
        .banner-name { color: #8b7355; font-weight:700; }
        .banner-timer {
            background: transparent; 
            border: none; 
            padding: 0 6px; 
            border-radius: 6px; 
            color: #5a4a3a; 
            font-weight: 800; 
            font-family: monospace; 
            box-shadow:none;
            display:inline-block; 
            line-height:1;
        }

        /* Products Grid */
        .products-container { max-width: 1400px; margin: 0 auto; padding: 0 20px 40px; }
        .products-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 20px; 
        }

        /* Product Card */
        .product-card { 
            background: white; 
            border: 3px solid #f5d5a0; 
            border-radius: 20px; 
            overflow: hidden; 
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .product-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 8px 20px rgba(0,0,0,0.15); 
        }

        .product-image {
            aspect-ratio: 1 / 1;
            width: 100%;
            background: #f5f5f5;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-content { 
            padding: 20px;
            display: flex;
            flex-direction: column;
            flex: 1;
        }
        
        .product-name { 
            font-size:18px; 
            font-weight:700; 
            color:#5a4a3a; 
            margin-bottom:8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.4;
            min-height: calc(1.4em * 2);
        }
        
        .product-desc { 
            font-size:14px; 
            color:#999; 
            margin-bottom:10px; 
            line-height:1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: calc(1.4em * 2);
        }

        .product-tags { 
            display:flex; 
            flex-wrap:wrap; 
            gap:8px; 
            margin-bottom:12px; 
        }
        
        .product-tag { 
            display:flex; 
            align-items:center; 
            gap:5px; 
            padding:5px 12px; 
            border-radius:15px; 
            font-size:13px; 
            border:1px solid #e0e0e0; 
            background:white; 
        }

        .product-meta {
            display:flex; 
            align-items:center; 
            gap:8px; 
            margin-bottom:15px;
            padding:10px; 
            background:#f6f4f1; 
            border-radius:8px; 
            font-size:14px; 
            color:#666;
            position: relative;
        }

        .product-meta .groupbuy-time { display: none; }

        .days-left {
            color: #8b7355; 
            font-weight: 700; 
            margin-left: 0;
            background: transparent; 
            padding: 4px 8px; 
            border-radius: 6px; 
            font-family: inherit; 
            display:inline-block;
        }

        .product-meta.ended { opacity: 0.6; }

        .product-buttons { 
            display:flex; 
            flex-direction:column; 
            gap:10px;
            margin-top: auto;
        }

        .btn { 
            padding:12px 20px; 
            border:none; 
            border-radius:8px; 
            cursor:pointer; 
            font-size:15px; 
            font-weight:600; 
            text-align:center; 
            transition:all 0.3s; 
            text-decoration:none; 
            display:flex; 
            align-items:center; 
            justify-content:center; 
            gap:8px; 
        }
        
        .btn-calendar { background:white; color:#8b7355; border:2px solid #e0e0e0; }
        .btn-calendar:hover { background:#f5f5f5; }
        .btn-video { background:white; color:#8b7355; border:2px solid #e0e0e0; }
        .btn-video:hover { background:#f5f5f5; }
        .btn-primary { background:#d5bdaf; color:white; }
        .btn-primary:hover { background:#e3d5ca; }
        .btn.btn-service {background: #aec3b0;color: #ffffff;}
        .btn.btn-service:hover {background: #ccd5ae;}

        .coupon-box {
            background: #f6f4f1;
            border: 2px dashed #d5bdaf;
            border-radius: 10px;
            padding: 10px 14px;
            margin-top: 12px;
        }

        .coupon-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .coupon-code {
            font-size: 18px;
            font-weight: 800;
            letter-spacing: 1px;
            color: #5a4a3a;
        }

        .copy-btn {
            background: #d5bdaf;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 8px 14px;
            font-weight: 700;
            cursor: pointer;
        }

        .copy-btn:hover {
            background: #e3d5ca;
        }

        .coupon-label {
            font-size: 12px;
            font-weight: 700;
            color: #8b7355;
            margin-bottom: 4px;
        }

        .product-card.ended {
            opacity: 0.6;
            filter: grayscale(0.8);
        }

        .product-card.hidden-ended {
            display: none !important;
        }

        /* FILTER PANEL */
        .filter-overlay {
            position: fixed; 
            inset: 0; 
            background: rgba(0,0,0,0.35); 
            z-index: 2000;
            display: none; 
            align-items: stretch; 
            justify-content: flex-start;
        }
        .filter-overlay.open { display: flex; }
        
        .filter-panel {
            width: 360px; 
            max-width: 92%; 
            background: #fff; 
            padding: 22px; 
            overflow-y: auto;
            box-shadow: 8px 0 24px rgba(0,0,0,0.15); 
            border-right: 1px solid #eee;
        }
        
        .filter-panel h3 { 
            font-size: 20px; 
            margin-bottom: 12px; 
            color: #333; 
        }
        
        .filter-close { 
            position: absolute; 
            right: 18px; 
            top: 18px; 
            font-size: 20px; 
            cursor: pointer; 
            color: #888; 
        }
        
        .filter-section { margin-bottom: 18px; }
        
        .filter-section .section-title { 
            font-weight:700; 
            margin-bottom: 8px; 
            color: #5a4a3a; 
            display:flex; 
            align-items:center; 
            gap:8px; 
        }
        
        .filter-list { 
            display:flex; 
            flex-direction:column; 
            gap:8px; 
        }
        
        .filter-item {
            padding: 10px 12px; 
            border-radius: 10px; 
            background: #faf7f3; 
            color: #3e2f22; 
            cursor: pointer; 
            border: 1px solid transparent;
        }
        
        .filter-item.count { 
            display:flex; 
            justify-content:space-between; 
            align-items:center; 
        }
        
        .filter-item.selected { 
            background: #c9a876; 
            color: white; 
            border-color: rgba(0,0,0,0.05); 
        }
        
        .filter-item .tag-name { font-weight:600; }
        .filter-item .tag-count { color: rgba(0,0,0,0.5); font-weight:600; }

        .filter-actions { 
            display:flex; 
            gap:8px; 
            margin-top: 12px; 
        }
        
        .btn-filter-clear { 
            flex:1; 
            padding:10px; 
            border-radius:8px; 
            border:1px solid #e0e0e0; 
            background:white; 
            cursor:pointer; 
        }
        
        .btn-filter-apply { 
            flex:1; 
            padding:10px; 
            border-radius:8px; 
            background:#c9a876; 
            color:white; 
            border:none; 
            cursor:pointer; 
        }

       /* Footer */
        .footer {
            background-image: linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)), 
                              url('團購下方底圖ppt.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            padding: 60px 20px;
            margin-top: 80px;
            border-top: 1px solid #eee;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-title {
            font-size: 22px;
            font-weight: 700;
            color: #5a4a3a;
            margin-bottom: 12px;
        }

        .footer-subtitle {
            font-size: 14px;
            color: #999;
            margin-bottom: 30px;
        }

        .footer-socials {
            display: flex;
            justify-content: center;
            gap: 14px;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .footer-socials a {
            padding: 12px 28px;
            border-radius: 999px;
            font-size: 15px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.25s ease;
            border: 2px solid transparent;
        }

        .footer-socials .line {
            background: #06c755;
            color: #fff;
        }
        .footer-socials .line:hover {
            background: #05b44c;
        }

        .footer-socials .fb {
            background: #1877f2;
            color: #fff;
        }
        .footer-socials .fb:hover {
            background: #166fe0;
        }

        .footer-socials .ig {
            background: linear-gradient(45deg,
                #feda75,
                #fa7e1e,
                #d62976,
                #962fbf,
                #4f5bd5
            );
            background-size: 120% 120%;
            background-position: center;
            color: white;
            padding: 12px 24px;
            border-radius: 999px;
            text-decoration: none;
        }

        .footer-socials .yt {
            background: #ff0000;
            color: #fff;
        }
        .footer-socials .yt:hover {
            background: #e60000;
        }

        .footer-text {
            font-size: 14px;
            color: #aaa;
            line-height: 1.8;
        }

        section[id], div[id] {
            scroll-margin-top: 140px; 
        }

        /* Mobile Tag Filter Button */
        .tag-filter-btn {
            display: none;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .filter-tabs {
                flex-wrap: nowrap;
                gap: 6px;
            }

            .filter-tab {
                font-size: 12px;
                padding: 6px 8px;
                white-space: nowrap;
                flex: 1;
                text-align: center;
            }

            .countdown-content {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 6px;
            }

            .countdown-left {
                justify-content: center;
                font-size: 13px;
                font-weight: 600;
            }

            .countdown-right {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 4px;
            }

            .banner-name {
                font-size: 14px;
                font-weight: 700;
            }

            .banner-timer {
                font-size: 13px;
                font-weight: 600;
            }

            .tag-filter-btn {
                display: inline-flex;
                align-items: center;
                justify-content: center;
            }

            .menu-icon {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .coupon-row {
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px;
            }

            .copy-btn {
                flex-shrink: 0;
                white-space: nowrap;
                padding: 6px 16px;
                min-width: 70px;
                height: auto;
            }

            .coupon-code {
                font-size: 16px;
                letter-spacing: 0.5px;
            }
        }

        @media (max-width: 480px) {
            .top-banner { font-size: 13px; padding: 6px; }
            .header { padding: 8px 12px; }
            .logo-img { height: 32px; }

            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
                padding: 12px;
            }

            .product-card {
                border-radius: 12px;
                border: none;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
                background: #fff;
                overflow: hidden;
                transition: box-shadow 0.3s ease;
            }

            .product-name {
                font-size: 14px;
                margin-bottom: 5px;
            }

            .product-desc {
                margin-bottom: 6px;
            }

            .product-tags {
                margin-bottom: 8px;
            }

            .product-content {
                padding: 10px;
            }

            .btn-primary, .btn-secondary {
                min-height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 8px 4px;
                font-size: 12px;
                letter-spacing: -0.5px;
            }

            .filter-item {
                border-radius: 10px;
                margin-bottom: 4px;
                background: #f9f9f9;
                border: 1px solid #f0f0f0;
            }

            .header-search-dropdown { 
                right: 10px; 
                left: 10px; 
                top: 64px; 
                width: auto; 
            }

            .header-content { padding: 6px 8px; }
            .logo-text h1 { font-size: 18px; }

            #searchInput {
                font-size: 16px;
                border-radius: 20px;
                padding: 8px 15px;
                border: 1px solid #eee;
                -webkit-appearance: none;
            }

            .coupon-row {
                flex-direction: column;
            }
            .copy-btn {
                width: 100%;
            }
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .header-search-dropdown {
            z-index: 1500;
        }

        .filter-tabs {
            z-index: 900;
        }

        /* ===============================
           MOBILE FILTER â€" FINAL VERSION
           ===================================== */
        /* ===============================
   MOBILE FILTER – FINAL CLEAN VERSION
   =============================== */
@media (max-width: 1024px) {

  /* Overlay */
  .filter-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.45);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: 3000;
    display: none;
    justify-content: flex-end;
  }

  .filter-overlay.open {
    display: flex;
  }

  /* Panel */
  .filter-panel {
    width: auto;
    min-width: 220px;
    max-width: 80vw;
    height: 100%;
    background: #ffffff;
    position: relative;
    display: flex;
    flex-direction: column;
    padding: 50px 16px 20px;
    overflow: visible;                 /* 🔥 解鎖滑動 */
    transform: translateX(100%);
    transition: transform 0.3s ease;
  }

  .filter-overlay.open .filter-panel {
    transform: translateX(0);
  }

  /* Title */
  .filter-panel h3 {
    position: absolute;
    top: 12px;
    left: 16px;
    font-size: 18px;
    margin: 0;
  }

  /* Close Button */
  .filter-close {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 36px;
    height: 36px;
    font-size: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #888;
    z-index: 10;
  }

  /* Tag List (Scrollable Area) */
  .filter-list {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 10px;
    overflow-y: auto;                  /* ✅ 真正負責滑動 */
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    max-height: calc(100vh - 120px);
    padding-bottom: 20px;
  }

  /* Tag Item */
  .filter-item {
    width: 100%;
    padding: 12px 14px;
    border-radius: 12px;
    background: #f7f7f7;
    border: 1px solid #eeeeee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 15px;
    cursor: pointer;
    flex-shrink: 0;
  }

  .filter-item.selected {
    background: #c9a876;
    color: #ffffff;
    border-color: transparent;
  }

  /* Hide Desktop-only Elements */
  .filter-actions {
    display: none;
  }

  .filter-section .section-title {
    display: none;
  }
}


        }
		
.tag-filter-btn {
    font-size: 22px;
    font-weight: 700;
    line-height: 1;
}

/* ① 其他 mobile layout */
@media (max-width: 1024px) {
  .filter-tabs {
    flex-wrap: nowrap;
    gap: 6px;
  }
}

/* ② Mobile Filter – FINAL */
@media (max-width: 1024px) {
  .filter-overlay { ... }
  .filter-panel { ... }   /* 唯一定義 */
  .filter-list { ... }
    .filter-panel h3 {
    display: none;
  }

  .filter-close {
    display: none;
  }
}
@media (max-width: 1024px) {
    .product-card {
        scroll-margin-top: 160px;
    }
}
@media (max-width: 1024px) {

    /* =========================
       通用：所有按鈕「單行、不爆版」
       ========================= */
    button,
    .btn,
    .button,
    a.btn,
    a.button {
        white-space: nowrap;
        line-height: 1.2;
    }

    /* =========================
       次要 / 資訊型按鈕
       ☎️ 聯絡客服
       🎥 影片介紹
       ✈️ 前往 KKday / Holafly
       ========================= */
    .btn-secondary,
    .btn-info,
    .contact-btn,
    .video-btn,
    .go-btn,
    a[href*="kkday"],
    a[href*="klook"],
    a[href*="holafly"] {
        font-size: 13px;
        font-weight: 500;
        padding: 8px 12px;
        white-space: nowrap;
    }

    /* =========================
       折扣碼區塊（你圈起來的）
       ========================= */
    .coupon-box,
    .coupon-code,
    .coupon-title {
        font-size: 13px;
        line-height: 1.3;
        white-space: nowrap;
    }

    .coupon-code {
        font-size: 14px;
        font-weight: 600;
        letter-spacing: 0.5px;
    }

    /* =========================
       主要 CTA（🛍️ 立即購買）
       ========================= */
    .btn-primary,
    .btn-buy,
    .buy-btn,
    .cta-btn {
        font-size: 15px;
        font-weight: 600;
        padding: 12px 16px;
        line-height: 1.2;
        white-space: nowrap;
    }

}

/* ===============================
   手機版：極限壓縮多餘留白
   不影響功能、不影響桌機
================================ */
@media (max-width: 768px) {

  /* 所有 section 類型的上下空白歸零 */
  section,
  .section,
  .product-section,
  .category-section,
  .group-section {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    min-height: 0 !important;
  }

  /* 標題（如 📍常態團購）本身的留白 */
  .section-title,
  .group-title,
  .category-title,
  h2,
  h3 {
    margin-top: 8px !important;
    margin-bottom: 4px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }

  /* 商品列表容器 */
  .product-list,
  .product-grid,
  .products {
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* 商品卡片與區塊之間 */
  .product-card {
    margin-bottom: 12px !important;
  }

  /* 最後一段（社群 / footer 上方） */
  .social-section,
  .footer,
  footer {
    margin-top: 12px !important;
    padding-top: 12px !important;
  }
}

/* ===============================
   手機版：壓縮「商品 → 常態團購」之間的巨大空白
   只動第一張圖的來源
================================ */
@media (max-width: 768px) {

  /* 常態團購標題「上方」空白極限壓縮 */
  .group-title,
  .section-title {
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* 如果標題是包在一個 section 裡，直接砍 section 的上 padding */
  .group-title::before,
  .section-title::before {
    content: none !important;
    display: none !important;
  }

  /* 緊貼前一個商品區塊 */
  .product-section + .product-section,
  .product-list + .section,
  .products + .section {
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* 防止手機版被 min-height 撐開 */
  .section,
  .product-section {
    min-height: auto !important;
  }
}
/* =================================
   手機版：砍掉「頂部功能區塊」撐出來的巨大空白
   專門解第一張圖
================================= */
@media (max-width: 768px) {

  /* 上方功能卡片整個區塊 */
  .top-section,
  .hero,
  .hero-section,
  .intro-section,
  .action-section {
    height: auto !important;
    min-height: 0 !important;
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
  }

  /* 裡面的卡片容器 */
  .top-section > *,
  .hero > *,
  .hero-section > *,
  .intro-section > *,
  .action-section > * {
    margin-bottom: 0 !important;
  }

  /* 防止最後一個元素撐高整塊 */
  .top-section::after,
  .hero::after,
  .hero-section::after,
  .intro-section::after,
  .action-section::after {
    content: none !important;
    display: none !important;
  }
}

    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content" style="position:relative;">
            <div class="left-area">
                <!-- menu icon (點擊打開篩選側欄) -->
                <div class="menu-icon" id="openFilterBtn" title="篩選" aria-label="開啟篩選">≡</div>
                <div class="logo" aria-hidden="false">
                    <div class="logo-icon"><img src="logo.png" alt="2A夫妻 Logo"></div>
                    <div class="logo-text">
                        <h1>2A夫妻｜嚴選團購好物</h1>
                        <p>實測過才分享</p>
                    </div>
                </div>
            </div>

            <!-- right actions: search icon + share icon -->
            <div class="header-actions" aria-hidden="false">
			
			<!-- Mobile / Tablet Tag Filter Button -->
<button class="icon-btn tag-filter-btn" id="openTagFilterBtn" aria-label="商品分類">
    🔽
</button>
				
                <!-- Search toggle button (放大鏡) -->
                <button class="icon-btn" id="searchToggle" aria-label="搜尋品牌名稱">
                    <!-- inline SVG magnifier -->
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
                        <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>

                <!-- Share icon (保留原連結功能) -->

            </div>

            <!-- header search dropdown (hidden by default) -->
            <div class="header-search-dropdown" id="headerSearchDropdown" role="region" aria-label="搜尋品牌">
                <!-- Reuse same id "searchInput" so existing filtering code continues to work -->
                <input type="text" class="search-box" placeholder="搜尋品牌名稱..." id="searchInput" aria-label="搜尋品牌名稱">
            </div>
        </div>
    </header>

    <!-- NOTE: 原 content 的搜尋欄移除（改用 header 下拉），若你想保留可刪除此註解 -->
    <!-- Filter Tabs -->
    <div class="filter-tabs">
<button class="filter-tab active"
        onclick="goToSection('limitedSection', 'all')">
    限時團購
</button>

<button class="filter-tab"
        onclick="goToSection('regularSection')">
    常態團購
</button>

<button class="filter-tab"
        onclick="goToSection('discountSection', 'discount')">
    日本優惠券
</button>

<button class="filter-tab"
        onclick="goToSection('discountSection', 'discount')">
    旅遊折扣碼
</button>


    </div>

    <!-- Results Info -->
<div class="results-info" style="margin-bottom: 10px;">
    <button id="toggleEndedBtn" class="filter-tab" data-state="hiding" style="background: #eee; color: #666; border: 1px solid #ddd;">
        顯示已結束 (0)
    </button>
</div>

    <!-- Limited Time Section -->
    <div id="limitedSection">
        <div class="section-header">
            <h2 class="section-title">⏳ 限時團購</h2>
        </div>

        <div class="countdown-banner">
            <div class="countdown-content">
                <div class="countdown-left">
                    <span>⏰</span>
                    <span>今日截止倒數</span>
                </div>
                <!-- 這裡會自動填入最快到期商品名稱與倒數（倒數使用橫幅背景，不是白色） -->
                <div class="countdown-right" id="countdownBanner" aria-live="polite">
                    <span class="banner-name" id="bannerName">目前無即將截止項目</span>
                    <span class="banner-timer" id="bannerTimer" style="display:none;">00:00:00</span>
                </div>
            </div>
        </div>

        <div class="products-container">
            <div class="products-grid" id="limitedProducts">
			<!-- Product 02 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image">
                        <img src="南田牧野家ppt.jpg" alt="THOMSON 石墨烯壁掛暖風機">
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">南田牧野家-抹茶甜點專賣店</h3>
                        <p class="product-desc">✅新品禮盒9折</p>
                        <div class="product-tags">
                            <span class="product-tag">🥯 食品</span>
                            
                        </div>
                        <div class="product-meta" data-start="2026-01-12" data-end="2026-01-26">
                            <span>⏰</span>
                            <span class="groupbuy-time">團購時間：1/12-1/26</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            <!-- 加入行事曆 按鈕會被移除 by JS on load -->
                            <a class="btn btn-video" href="https://www.instagram.com/p/DTaJIKKCVNx/" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>
                            <a class="btn btn-primary" href="https://reurl.cc/Ebe3On" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/R/ti/p/%40ynv9262y" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>
			
			<!-- Product 01 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image">
                        <img src="暖風機ppt.jpg" alt="THOMSON 石墨烯壁掛暖風機">
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">THOMSON 石墨烯壁掛暖風機</h3>
                        <p class="product-desc">✅首次消費，輸入【JOIN88】88折</p>
                        <div class="product-tags">
                            <span class="product-tag">🏠 居家</span>
                            
                        </div>
                        <div class="product-meta" data-start="2026-01-11" data-end="2026-01-28">
                            <span>⏰</span>
                            <span class="groupbuy-time">團購時間：1/11-2/28</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            <!-- 加入行事曆 按鈕會被移除 by JS on load -->
                            <a class="btn btn-video" href="" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>
                            <a class="btn btn-primary" href="https://citiesocial.co/78ioa" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://lin.ee/7eAhBDG" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>
                <!-- Product 1 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image">
                        <img src="donidoris.jpg" alt="朵妮朵絲">
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">朵妮朵絲 - 天然植萃精油</h3>
                        <p class="product-desc">✅台灣輔助醫學會推薦</p>
                        <div class="product-tags">
                            <span class="product-tag">🏠 居家</span>
                            
                        </div>
                        <div class="product-meta" data-start="2026-01-10" data-end="2026-01-20">
                            <span>⏰</span>
                            <span class="groupbuy-time">團購時間：1/10-1/20</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            <!-- 加入行事曆 按鈕會被移除 by JS on load -->
                            <a class="btn btn-video" href="https://www.instagram.com/p/DTVGBhGiSa1/" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>
                            <a class="btn btn-primary" href="https://pureness.easygroupshop.com/sale-2acouple/onepage" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://page.line.me/dodeurs" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image">
                        <img src="mili-mitag.jpg" alt="MiLi MiTag">
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">MiLi MiTag 智慧防丟器</h3>
                        <p class="product-desc">✅蘋果和安卓都能用</p>
                        <div class="product-tags">
                            
							<span class="product-tag">✈️ 旅遊</span>
                        </div>
                        <!-- 更新：結束日期改為 2026-01-28 -->
                        <div class="product-meta" data-end="2026-01-28">
                            <span>⏰</span>
                            <span class="groupbuy-time">～01/28</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            <a class="btn btn-video" href="https://reurl.cc/qKXXpq" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>

                            <a class="btn btn-primary" href="https://reurl.cc/vKXLqA" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/R/ti/p/@egm3252c" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image">
                        <img src="aukey-tracker.jpg" alt="AUKEY追蹤定位器">
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">AUKEY 專用輕薄追蹤定位器</h3>
                        <p class="product-desc">✅適用於蘋果系統</p>
                        <div class="product-tags">
                            <span class="product-tag">✈️ 旅遊</span>
                            
                        </div>
                        <!-- 更新：結束日期改為 2026-01-28 -->
                        <div class="product-meta" data-end="2026-01-28">
                            <span>⏰</span>
                            <span class="groupbuy-time">～01/28</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            <a class="btn btn-video" href="https://reurl.cc/qKXXpq" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>
                            <a class="btn btn-primary" href="https://reurl.cc/0anWjM" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/R/ti/p/@egm3252c" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image">
                        <img src="japan-giftbox.jpg" alt="日本新年精選禮盒">
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">🇯🇵2026日本新年精選禮盒團</h3>
                        <p class="product-desc">🎁滿$3,800贈禮盒1盒，可累贈</p>
                        <div class="product-tags">
                            <span class="product-tag">🥯 食品</span>
                            
                        </div>
                        <!-- 更新：結束日期改為 2026-01-24 -->
                        <div class="product-meta" data-end="2026-01-24">
                            <span>⏰</span>
                            <span class="groupbuy-time">～01/24</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            
                            <a class="btn btn-primary" href="https://gbf.tw/skbkj" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/ti/p/~@ownlife" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <!-- Product 5 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image"><img src="hair-dryer.jpg" alt="負離子高速吹風機"></div>
                    <div class="product-content">
                        <h3 class="product-name">負離子高速吹風機</h3>
                        <p class="product-desc">🚚1台免運</p>
                        <div class="product-tags">
                            <span class="product-tag">📺 家電</span>
                            <span class="product-tag">🏠 居家</span>
                        </div>
                        <div class="product-meta" data-end="2026-01-31">
                            <span>⏰</span>
                            <span class="groupbuy-time">~1/21</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            <a class="btn btn-video" href="https://reurl.cc/jmpp6D" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>
                            <a class="btn btn-primary" href="https://gbf.tw/tvyga" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/ti/p/~@ownlife" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <!-- Product 6 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image"><img src="folding-dryer.jpg" alt="折疊高速負離子吹風機"></div>
                    <div class="product-content">
                        <h3 class="product-name">折疊高速負離子吹風機</h3>
                        <p class="product-desc">🚚1台免運，可帶出國</p>
                        <div class="product-tags">
                            <span class="product-tag">📺 家電</span>
							<span class="product-tag">🏠 居家</span>
							<span class="product-tag">✈️ 旅遊</span>
                            
                        </div>
                        <div class="product-meta" data-end="2026-01-31">
                            <span>⏰</span>
                            <span class="groupbuy-time">~1/21</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            
                            <a class="btn btn-primary" href="https://gbf.tw/tvyga" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/ti/p/~@ownlife" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <!-- Product 7 -->
                <div class="product-card" data-type="limited">
                    <div class="product-image"><img src="magnetic-stand.jpg" alt="全能超薄磁吸支架"></div>
                    <div class="product-content">
                        <h3 class="product-name">全能超薄磁吸支架</h3>
                        <p class="product-desc">✅手機、平板、電腦通用</p>
                        <div class="product-tags">
                            <span class="product-tag">📱 3C</span>
							<span class="product-tag">🏠 居家</span>
                            <span class="product-tag">✈️ 旅遊</span>
                        </div>
                        <div class="product-meta" data-end="2026-01-31">
                            <span>⏰</span>
                            <span class="groupbuy-time">～1/14</span>
                            <span class="days-left" aria-live="polite"></span>
                        </div>
                        <div class="product-buttons">
                            <a class="btn btn-video" href="https://reurl.cc/EbDDYm" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>
                            
                            <a class="btn btn-primary" href="https://gbf.tw/x5y18" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/ti/p/~@ownlife" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Regular Products Section (unchanged) -->
    <div id="regularSection">
        <div class="section-header"><h2 class="section-title">📍 常態團購</h2></div>
        <div class="products-container">
            <div class="products-grid" id="regularProducts">
			
			                <div class="product-card" data-type="regular">
                    <div class="product-image"><img src="萬用裝備袋ppt.jpg" alt="萬用裝備袋-可託運"></div>
                    <div class="product-content">
                        <h3 class="product-name">出國萬用裝備袋-要托運</h3>
                        <p class="product-desc">✅可託運買太多的急救袋</p>
                        <div class="product-tags">
						<span class="product-tag">🦐 蝦皮好物</span>
						<span class="product-tag">✈️ 旅遊</span>
						</div>
                        <div class="product-buttons">
                        <a class="btn btn-video" href="https://www.facebook.com/share/p/17kFMYeFx1/" target="_blank" rel="noopener noreferrer">📙 2A的貼文分享</a>

                            <a class="btn btn-primary" href="https://s.shopee.tw/7VA8EuCVDC" target="_blank">🛍️ 立即購買 →</a>
							
                        </div>
                    </div>
                </div>	
			
			
                <div class="product-card" data-type="regular">
                    <div class="product-image"><img src="aspor-selfie.jpg" alt="ASPOR迷你自拍棒"></div>
                    <div class="product-content">
                        <h3 class="product-name">ASPOR迷你自拍棒</h3>
                        <p class="product-desc">✅蘋果、安卓都能用</p>
                        <div class="product-tags">
						<span class="product-tag">📱 3C</span>
						<span class="product-tag">✈️ 旅遊</span>
						</div>
                        <div class="product-buttons">
                            <a class="btn btn-video" href="https://reurl.cc/R9DDmr" target="_blank" rel="noopener noreferrer">🎬 2A的影片介紹</a>

                            <a class="btn btn-primary" href="https://gbf.tw/pwi3b" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/ti/p/~@ownlife" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <div class="product-card" data-type="regular">
                    <div class="product-image"><img src="yamada-heater.jpg" alt="YAMADA電暖器"></div>
                    <div class="product-content">
                        <h3 class="product-name">銀粒子抑菌智慧温控陶瓷電暖器</h3>
                        <p class="product-desc">✅有效抑菌99.9%</p>
                        <div class="product-tags">
						<span class="product-tag">📺 家電</span>
						<span class="product-tag">🏠 居家</span>
						</div>
                        <div class="product-buttons">
                          

                            <a class="btn btn-primary" href="https://p3.groupbuyforms.tw/oexnf" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/ti/p/~@ownlife" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>

                <div class="product-card" data-type="regular">
                    <div class="product-image"><img src="inko-cushion.jpg" alt="韓國INKO暖感坐墊"></div>
                    <div class="product-content">
                        <h3 class="product-name">韓國INKO超薄USB暖感坐墊</h3>
                        <p class="product-desc">✅插行動電源就可以使用</p>
                        <div class="product-tags">
						<span class="product-tag">📺 家電</span>
						<span class="product-tag">🏠 居家</span>
						<span class="product-tag">✈️ 旅遊</span>
						</div>
                        <div class="product-buttons">
                        

                            <a class="btn btn-primary" href="https://p3.groupbuyforms.tw/oexnf" target="_blank">🛍️ 立即購買 →</a>
							<a class="btn btn-service" href="https://line.me/ti/p/~@ownlife" target="_blank">☎️ 聯絡客服 →</a>
                        </div>
                    </div>
                </div>
						
							
				
            </div>
        </div>
    </div>

    <!-- Discount Section -->
    <div id="discountSection">
        <div class="section-header" id="discount-section"><h2 class="section-title">🌍 旅遊折扣碼</h2></div>
        <div class="products-container">
            <div class="products-grid" id="discountProducts">
                <div class="product-card" data-type="discount">
                    <div class="product-image">
                        <img src="big修改版ppt.jpg" alt="日本藥妝、電器、百貨優惠券">
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">日本藥妝、電器、百貨優惠券</h3>
                        <p class="product-desc">✅唐吉訶德、Bic Camera、藥妝</p>
                        <div class="product-tags">
                            <span class="product-tag">💳 優惠券</span>
							<span class="product-tag">✈️ 旅遊</span>
                        </div>

                        <div class="product-buttons">
                            <a class="btn btn-primary" href="https://reurl.cc/GNalm3" target="_blank" rel="noopener noreferrer">🎫 立即領取 →</a>
							
                        </div>
                    </div>
					
					
                </div>
				
				<!-- KKday -->
<div class="product-card" data-type="discount">
    <div class="product-image">
        <img src="kkday.jpg" alt="KKday 折扣">
    </div>
    <div class="product-content">
        <h3 class="product-name">KKday 旅遊體驗</h3>
        <p class="product-desc">✅輸入折扣碼滿$2,500享92折</p>
 <div class="product-tags">
            <span class="product-tag">✈️ 旅遊</span>
            <span class="product-tag">💳 折扣碼</span>
        </div>
<div class="product-buttons">
<div class="coupon-box">
    <div class="coupon-label">🎁 2A專屬折扣碼</div>

    <div class="coupon-row">
        <span class="coupon-code" id="kkdayCode">KK2ACOUPLE</span>
        <button class="copy-btn" onclick="copyCoupon('kkdayCode', this)">一鍵複製</button>
    </div>
</div>

       

        <div class="product-buttons">
            <a class="btn btn-primary" href="https://reurl.cc/VmerpN" target="_blank">✈️ 前往 KKday →</a>
        </div>
    </div>
</div>
</div>
<!-- Klook -->
<div class="product-card" data-type="discount">
    <div class="product-image">
        <img src="klook.jpg" alt="Klook 折扣">
    </div>
    <div class="product-content">
        <h3 class="product-name">Klook 旅遊行程</h3>
        <p class="product-desc">✅輸入折扣碼滿$1,500享95折</p>
        <div class="product-tags">
            <span class="product-tag">✈️ 旅遊</span>
            <span class="product-tag">💳 折扣碼</span>
        </div>
<div class="product-buttons">
<div class="coupon-box">
    <div class="coupon-label">🎁 2A專屬折扣碼</div>

    <div class="coupon-row">
        <span class="coupon-code" id="klookCode">2ACOUPLE</span>
        <button class="copy-btn" onclick="copyCoupon('klookCode', this)">一鍵複製</button>
    </div>
</div>



        <div class="product-buttons">
            <a class="btn btn-primary" href="https://2acouple.pse.is/7n7mjf" target="_blank">✈️ 前往 Klook →</a>
        </div>
    </div>
</div>
</div>
<!-- Agoda -->
<div class="product-card" data-type="discount">
    <div class="product-image">
        <img src="agoda.jpg" alt="Agoda 訂房">
    </div>
    <div class="product-content">
        <h3 class="product-name">Agoda 全球訂房優惠</h3>
        <p class="product-desc">
            ✅全球飯店即時優惠</p>
        <div class="product-tags">
            <span class="product-tag">🏨 訂房</span>
            <span class="product-tag">💳 優惠連結</span>
			<span class="product-tag">✈️ 旅遊</span>
        </div>

        <div class="product-buttons">
            <a class="btn btn-primary" href="https://agoda.tp.st/VwJBDinr" target="_blank">✈️ 前往 Agoda →</a>
        </div>
    </div>
</div>

<!-- Holafly eSIM -->
<div class="product-card" data-type="discount">
    <div class="product-image">
        <img src="holafly.jpg" alt="Holafly eSIM">
    </div>
    <div class="product-content">
        <h3 class="product-name">Holafly 吃到飽 eSIM</h3>
        <p class="product-desc">✅前往網址購買立即享95折</p>
        <div class="product-tags">
            <span class="product-tag">📶 eSIM</span>
            <span class="product-tag">✈️ 旅遊</span>
        </div>

        <div class="product-buttons">
            <a class="btn btn-primary" href="https://holafly.sjv.io/aORJqY" target="_blank">✈️ 前往 Holafly →</a>
        </div>
    </div>
</div>

<!-- NordVPN -->
<div class="product-card" data-type="discount">
    <div class="product-image">
        <img src="nordvpn.jpg" alt="NordVPN">
    </div>
    <div class="product-content">
        <h3 class="product-name">NordVPN 網路安全方案</h3>
        <p class="product-desc">✅輸入【2acouple】85 折＋2年再送4個月</p>
        <div class="product-tags">
            <span class="product-tag">🔐 VPN</span>
            <span class="product-tag">💳 折扣碼</span>
			<span class="product-tag">✈️ 旅遊</span>
        </div>

        <div class="product-buttons">
            <a class="btn btn-primary" href="https://nordvpn.com/2acouple" target="_blank">✈️ 前往 NordVPN →</a>
        </div>
    </div>
</div>

<!-- 易遊網 -->
<div class="product-card" data-type="discount">
    <div class="product-image">
        <img src="eztravel.jpg" alt="易遊網">
    </div>
    <div class="product-content">
        <h3 class="product-name">易遊網 旅遊優惠</h3>
        <p class="product-desc">✅機票、訂房、團體行程</p>
        <div class="product-tags">
            <span class="product-tag">✈️ 旅遊</span>
            <span class="product-tag">💳 優惠連結</span>
        </div>

        <div class="product-buttons">
            <a class="btn btn-primary" href="https://eztravel.tw/7sjpex" target="_blank">✈️ 前往 易遊網 →</a>
        </div>
    </div>
</div>

<!-- LINE旅遊 -->
<div class="product-card" data-type="discount">
    <div class="product-image">
        <img src="linetravel.jpg" alt="LINE旅遊">
    </div>
    <div class="product-content">
        <h3 class="product-name">LINE 旅遊優惠</h3>
        <p class="product-desc">✅機票、飯店、行程比價 </p>
        <div class="product-tags">
            <span class="product-tag">✈️ 旅遊</span>
            <span class="product-tag">💳 回饋</span>
        </div>

        <div class="product-buttons">
            <a class="btn btn-primary" href="https://reurl.cc/pKXzn4" target="_blank">✈️ 前往 LINE旅遊 →</a>
        </div>
    </div>
</div>

        </div>
    </div>
</div>

				
            </div>
        </div>
    </div>
	
	

    <!-- Schedule / Calendar Section -->
   

    <!-- Filter overlay / panel (LEFT) -->
    <div class="filter-overlay" id="filterOverlay" aria-hidden="true">
        <div class="filter-panel" role="dialog" aria-modal="true" aria-labelledby="filterTitle">
            <div style="position:relative;">
                <h3 id="filterTitle">篩選</h3>
                <div class="filter-close" id="closeFilterBtn" title="關閉">✕</div>
            </div>

            <div class="filter-section" id="categorySection">
                <div class="section-title">🏷️ 分類</div>
                <div class="filter-list" id="categoryList">
                    <!-- 由 JS 動態填入 -->
                </div>
            </div>

            <div class="filter-actions">
                <button class="btn-filter-clear" id="filterClearBtn">清除</button>
                <button class="btn-filter-apply" id="filterApplyBtn">套用</button>
            </div>
        </div>
		
		
		
    </div>


    <script>
(function () {
    'use strict';

    let showOnlyEnded = false;

    // --- 1. 日期工具 ---
    function normalizeToISO(dateStr) {
        if (!dateStr) return null;
        dateStr = dateStr.trim();
        if (/^\d{4}-\d{2}-\d{2}$/.test(dateStr)) return dateStr;
        var m = dateStr.match(/^(\d{1,2})[\/\-](\d{1,2})(?:[\/\-](\d{4}))?$/);
        if (m) {
            var mon = String(m[1]).padStart(2, '0');
            var day = String(m[2]).padStart(2, '0');
            var year = m[3] ? m[3] : (new Date()).getFullYear();
            return year + '-' + mon + '-' + day;
        }
        return null;
    }

    function daysLeftTo(endISO) {
        try {
            var end = new Date(endISO + 'T23:59:59');
            var now = new Date();
            var diff = end - now;
            var days = Math.ceil(diff / (1000 * 60 * 60 * 24));
            return { days: days, diffMs: diff };
        } catch (e) { return null; }
    }

    // --- 2. 更新狀態 ---
    function updateElement(el) {
        var endAttr = el.getAttribute('data-end');
        var endISO = normalizeToISO(endAttr);
        var outSpan = el.querySelector('.days-left');
        var card = el.closest('.product-card');
        if (!endISO || !outSpan) return;
        var result = daysLeftTo(endISO);
        if (!result) return;

        if (result.diffMs < 0) {
            outSpan.textContent = '已結束';
            if (card) card.classList.add('ended');
        } else {
            if (card) card.classList.remove('ended');
            outSpan.textContent = (result.days <= 1) ? '今日截止' : '剩 ' + result.days + ' 天';
        }
    }

// Mobile: 點 tag 後自動收起上方分類
document.querySelectorAll('.category-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        if (window.innerWidth <= 1024) {
            document.getElementById('filterOverlay')?.classList.remove('open');
        }
    });
});


    function updateBanner() {
        var bannerName = document.getElementById('bannerName');
        var bannerTimer = document.getElementById('bannerTimer');
        var metas = document.querySelectorAll('.product-meta');
        var now = new Date();
        var nearest = null;

        metas.forEach(function (meta) {
            var endISO = normalizeToISO(meta.getAttribute('data-end'));
            if (!endISO) return;
            var diff = new Date(endISO + 'T23:59:59') - now;
            if (diff > 0 && (!nearest || diff < nearest.diff)) {
                var card = meta.closest('.product-card');
                nearest = { name: card.querySelector('.product-name').textContent, diff: diff };
            }
        });

        if (bannerName && bannerTimer) {
            if (!nearest) {
                bannerName.textContent = '目前無即將截止項目';
                bannerTimer.style.display = 'none';
            } else {
                bannerName.textContent = nearest.name;
                bannerTimer.style.display = 'inline-block';
                var s = Math.floor(nearest.diff / 1000);
                var d = Math.floor(s / 86400);
                var r = s % 86400;
                var h = String(Math.floor(r / 3600)).padStart(2, '0');
                var m = String(Math.floor((r % 3600) / 60)).padStart(2, '0');
                var sec = String(r % 60).padStart(2, '0');
                bannerTimer.textContent = (d > 0 ? d + '天 ' : '') + h + ':' + m + ':' + sec;
            }
        }
    }

    // --- 3. 側欄分類產生 ---
    
});

    }

    // --- 4. 篩選邏輯 ---
   // --- 修復後的搜尋邏輯 ---
function filterCards() {
    // 1. 抓取搜尋框文字 (不論它是否在下拉選單內)
    const searchInput = document.getElementById('searchInput');
    const keyword = (searchInput?.value || '').trim().toLowerCase();
    
    // 2. 抓取目前選中的分類
    const selected = document.querySelector('#categoryList .filter-item.selected');
    const catTag = (selected && selected.dataset.tag !== '全部') ? selected.dataset.tag : null;

    // 3. 執行過濾
    document.querySelectorAll('.product-card').forEach(function (card) {
        const name = (card.querySelector('.product-name')?.textContent || '').toLowerCase();
        const desc = (card.querySelector('.product-desc')?.textContent || '').toLowerCase(); // 增加描述搜尋
        const tags = (card.dataset.tags || '').split('|');
        const isEnded = card.classList.contains('ended');
        
        const matchCat = !catTag || tags.some(t => t.includes(catTag));
        // 搜尋名稱或描述
        const matchSearch = !keyword || name.includes(keyword) || desc.includes(keyword);
        
        // 判斷是否應該顯示 (考慮「顯示已結束」的狀態)
        const shouldShow = showOnlyEnded ? 
            (matchCat && matchSearch && isEnded) : 
            (matchCat && matchSearch && !isEnded);
            
        card.style.display = shouldShow ? '' : 'none';
    });

    // 更新「顯示已結束」按鈕的數字
    const toggleBtn = document.getElementById('toggleEndedBtn');
    if (toggleBtn) {
        const count = document.querySelectorAll('.product-card.ended').length;
        toggleBtn.textContent = showOnlyEnded ? '顯示進行中' : '顯示已結束 (' + count + ')';
    }
}

// --- 在 DOMContentLoaded 裡加入關鍵監聽 ---
document.addEventListener('DOMContentLoaded', function () {
    // ... 原有的初始化代碼 ...
	
	// Mobile / Tablet 右上角「分類」按鈕
document.getElementById('openTagFilterBtn')?.addEventListener('click', function () {
    document.getElementById('filterOverlay')?.classList.add('open');
});


    // 核心修復：確保搜尋框有被綁定事件
    const searchBox = document.getElementById('searchInput');
    if (searchBox) {
        // 'input' 事件會在你每打一個字時就觸發搜尋
        searchBox.addEventListener('input', filterCards);
    }

    // 處理搜尋下拉選單的開關 (因為你原本沒寫開關邏輯)
    const searchToggle = document.getElementById('searchToggle');
    const searchDropdown = document.getElementById('headerSearchDropdown');
    
    searchToggle?.addEventListener('click', function(e) {
        e.stopPropagation();
        searchDropdown.classList.toggle('open');
        if (searchDropdown.classList.contains('open')) {
            searchBox.focus(); // 打開時自動聚焦，方便直接打字
        }
    });

    // 點擊頁面其他地方關閉搜尋選單
    document.addEventListener('click', function() {
        searchDropdown.classList.remove('open');
    });
    searchDropdown?.addEventListener('click', (e) => e.stopPropagation());
});
    // --- 5. 初始化與按鈕綁定 ---
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('.product-card').forEach(function(card) {
            var tags = Array.from(card.querySelectorAll('.product-tag')).map(t => t.textContent.trim());
            card.dataset.tags = tags.join('|');
            card.querySelectorAll('.product-meta').forEach(updateElement);
        });

        renderCategoryList();

        // 側欄開關
        const overlay = document.getElementById('filterOverlay');
        document.getElementById('openFilterBtn')?.addEventListener('click', () => overlay.classList.add('open'));
        document.getElementById('closeFilterBtn')?.addEventListener('click', () => overlay.classList.remove('open'));

        // 「清除」按鈕：對應 ID filterClearBtn
        document.getElementById('filterClearBtn')?.addEventListener('click', function() {
            if (document.getElementById('searchInput')) document.getElementById('searchInput').value = '';
            var items = document.querySelectorAll('#categoryList .filter-item');
            items.forEach(i => i.classList.remove('selected'));
            if (items[0]) items[0].classList.add('selected');
            filterCards();
        });

        // 「套用」按鈕：對應 ID filterApplyBtn
        document.getElementById('filterApplyBtn')?.addEventListener('click', function() {
            filterCards();
            overlay.classList.remove('open');
        });

        // 搜尋與結束切換
        document.getElementById('searchInput')?.addEventListener('input', filterCards);
        document.getElementById('toggleEndedBtn')?.addEventListener('click', function() {
            showOnlyEnded = !showOnlyEnded;
            filterCards();
        });

        filterCards();
        updateBanner();
        setInterval(updateBanner, 1000);
    });
})();

// 全域函式
function goToSection(id) { document.getElementById(id)?.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
function copyCoupon(id, btn) {
    const code = document.getElementById(id)?.textContent.trim();
    if (!code) return;
    navigator.clipboard.writeText(code).then(() => {
        const t = btn.textContent; btn.textContent = "已複製 ✓";
        setTimeout(() => btn.textContent = t, 2000);
    });
}
    </script>
	<footer class="footer">
    <div class="footer-content">

        <div class="footer-title">加入2A夫妻社群</div>
        <div class="footer-subtitle">
            第一手團購通知、限時好康不漏接
        </div>

        <div class="footer-socials">
            <a class="line"
               href="https://line.me/ti/g2/hT4k_ydWEIvpbumc11WufWtxg9KUtGC7wJHNGQ?utm_source=invitation&utm_medium=link_copy&utm_campaign=default"
               target="_blank" rel="noopener noreferrer">
                💬 LINE 團購群
            </a>

            <a class="fb"
               href="https://www.facebook.com/2acouple"
               target="_blank" rel="noopener noreferrer">
                👍 Facebook
            </a>

            <a class="ig"
               href="https://www.instagram.com/2a_couple"
               target="_blank" rel="noopener noreferrer">
                📸 Instagram
            </a>

            <a class="yt"
               href="https://www.youtube.com/@2a_couple"
               target="_blank" rel="noopener noreferrer">
                ▶ YouTube
            </a>
        </div>

        <div class="footer-text">
			合作信箱：
			<a href="mailto:2acouple168@gmail.com">2acouple168@gmail.com</a><br>
			2A夫妻實測｜精選好物、團購好康
        </div>

    </div>
</footer>

    <script>
(function () {
    'use strict';

    let showOnlyEnded = false;

    // --- 1. 日期工具 ---
    function normalizeToISO(dateStr) {
        if (!dateStr) return null;
        dateStr = dateStr.trim();
        if (/^\d{4}-\d{2}-\d{2}$/.test(dateStr)) return dateStr;
        var m = dateStr.match(/^(\d{1,2})[\/\-](\d{1,2})(?:[\/\-](\d{4}))?$/);
        if (m) {
            var mon = String(m[1]).padStart(2, '0');
            var day = String(m[2]).padStart(2, '0');
            var year = m[3] ? m[3] : (new Date()).getFullYear();
            return year + '-' + mon + '-' + day;
        }
        return null;
    }

    function daysLeftTo(endISO) {
        try {
            var end = new Date(endISO + 'T23:59:59');
            var now = new Date();
            var diff = end - now;
            var days = Math.ceil(diff / (1000 * 60 * 60 * 24));
            return { days: days, diffMs: diff };
        } catch (e) { return null; }
    }

    // --- 2. 更新狀態 ---
    function updateElement(el) {
        var endAttr = el.getAttribute('data-end');
        var endISO = normalizeToISO(endAttr);
        var outSpan = el.querySelector('.days-left');
        var card = el.closest('.product-card');
        if (!endISO || !outSpan) return;
        var result = daysLeftTo(endISO);
        if (!result) return;

        if (result.diffMs < 0) {
            outSpan.textContent = '已結束';
            if (card) card.classList.add('ended');
        } else {
            if (card) card.classList.remove('ended');
            outSpan.textContent = (result.days <= 1) ? '今日截止' : '剩 ' + result.days + ' 天';
        }
    }

    function updateBanner() {
        var bannerName = document.getElementById('bannerName');
        var bannerTimer = document.getElementById('bannerTimer');
        var metas = document.querySelectorAll('.product-meta');
        var now = new Date();
        var nearest = null;

        metas.forEach(function (meta) {
            var endISO = normalizeToISO(meta.getAttribute('data-end'));
            if (!endISO) return;
            var diff = new Date(endISO + 'T23:59:59') - now;
            if (diff > 0 && (!nearest || diff < nearest.diff)) {
                var card = meta.closest('.product-card');
                nearest = { name: card.querySelector('.product-name').textContent, diff: diff };
            }
        });

        if (bannerName && bannerTimer) {
            if (!nearest) {
                bannerName.textContent = '目前無即將截止項目';
                bannerTimer.style.display = 'none';
            } else {
                bannerName.textContent = nearest.name;
                bannerTimer.style.display = 'inline-block';
                var s = Math.floor(nearest.diff / 1000);
                var d = Math.floor(s / 86400);
                var r = s % 86400;
                var h = String(Math.floor(r / 3600)).padStart(2, '0');
                var m = String(Math.floor((r % 3600) / 60)).padStart(2, '0');
                var sec = String(r % 60).padStart(2, '0');
                bannerTimer.textContent = (d > 0 ? d + '天 ' : '') + h + ':' + m + ':' + sec;
            }
        }
    }

    // --- 3. 側欄分類產生 ---
    function renderCategoryList() {
    const categoryList = document.getElementById('categoryList');
    if (!categoryList) return;

    const allTags = new Set();
    document.querySelectorAll('.product-tag').forEach(tag => {
        allTags.add(tag.textContent.trim());
    });

    const orderedTags = [
        '💳 優惠券',
        '✈️ 旅遊',
        '📱 3C',
        '📺 家電',
        '🏠 居家',
        '🥯 食品',
        '🦐 蝦皮好物',
        '🏨 訂房',
        '📶 eSIM',
        '🔐 VPN',
        '🎟️ 折扣碼',
        '💳 優惠連結',
        '💰 回饋'
    ];

    categoryList.innerHTML = '';

    const allItem = document.createElement('div');
    allItem.className = 'filter-item selected';
    allItem.dataset.tag = '全部';
    allItem.textContent = '全部';
    categoryList.appendChild(allItem);

    orderedTags.forEach(tag => {
        if (allTags.has(tag)) {
            const div = document.createElement('div');
            div.className = 'filter-item';
            div.dataset.tag = tag;
            div.textContent = tag;
            categoryList.appendChild(div);
            allTags.delete(tag);
        }
    });

    Array.from(allTags).sort().forEach(tag => {
        const div = document.createElement('div');
        div.className = 'filter-item';
        div.dataset.tag = tag;
        div.textContent = tag;
        categoryList.appendChild(div);
    });

    categoryList.addEventListener('click', function (e) {
        if (e.target.classList.contains('filter-item')) {
            categoryList.querySelectorAll('.filter-item')
                .forEach(i => i.classList.remove('selected'));
            e.target.classList.add('selected');

            filterCards();
			scrollToFirstVisibleProduct();

            if (window.innerWidth <= 1024) {
                document.getElementById('filterOverlay')?.classList.remove('open');
            }
        }
    });
}


    // --- 4. 篩選邏輯 ---
    function filterCards() {
        const searchInput = document.getElementById('searchInput');
        const keyword = (searchInput?.value || '').trim().toLowerCase();
        
        const selected = document.querySelector('#categoryList .filter-item.selected');
        const catTag = (selected && selected.dataset.tag !== '全部') ? selected.dataset.tag : null;

        document.querySelectorAll('.product-card').forEach(function (card) {
            const name = (card.querySelector('.product-name')?.textContent || '').toLowerCase();
            const desc = (card.querySelector('.product-desc')?.textContent || '').toLowerCase();
            const tags = (card.dataset.tags || '').split('|');
            const isEnded = card.classList.contains('ended');
            
            const matchCat = !catTag || tags.some(t => t.includes(catTag));
            const matchSearch = !keyword || name.includes(keyword) || desc.includes(keyword);
            
            const shouldShow = showOnlyEnded ? 
                (matchCat && matchSearch && isEnded) : 
                (matchCat && matchSearch && !isEnded);
                
            card.style.display = shouldShow ? '' : 'none';
        });

        const toggleBtn = document.getElementById('toggleEndedBtn');
        if (toggleBtn) {
            const count = document.querySelectorAll('.product-card.ended').length;
            toggleBtn.textContent = showOnlyEnded ? '顯示進行中' : '顯示已結束 (' + count + ')';
        }
    }

    // --- 5. 初始化與按鈕綁定 ---
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('.product-card').forEach(function(card) {
            var tags = Array.from(card.querySelectorAll('.product-tag')).map(t => t.textContent.trim());
            card.dataset.tags = tags.join('|');
            card.querySelectorAll('.product-meta').forEach(updateElement);
        });

        renderCategoryList();

        // 側欄開關
        const overlay = document.getElementById('filterOverlay');
        document.getElementById('openFilterBtn')?.addEventListener('click', () => overlay.classList.add('open'));
        document.getElementById('openTagFilterBtn')?.addEventListener('click', () => overlay.classList.add('open'));
        document.getElementById('closeFilterBtn')?.addEventListener('click', () => overlay.classList.remove('open'));
        overlay?.addEventListener('click', e => {
            if (e.target === overlay) overlay.classList.remove('open');
        });

        // 「清除」按鈕
        document.getElementById('filterClearBtn')?.addEventListener('click', function() {
            if (document.getElementById('searchInput')) document.getElementById('searchInput').value = '';
            var items = document.querySelectorAll('#categoryList .filter-item');
            items.forEach(i => i.classList.remove('selected'));
            if (items[0]) items[0].classList.add('selected');
            filterCards();
			
        });

        // 「套用」按鈕
        document.getElementById('filterApplyBtn')?.addEventListener('click', function() {
            filterCards();
            overlay.classList.remove('open');
        });

        // 搜尋框
        const searchBox = document.getElementById('searchInput');
        if (searchBox) {
            searchBox.addEventListener('input', filterCards);
        }

        // 搜尋下拉選單開關
        const searchToggle = document.getElementById('searchToggle');
        const searchDropdown = document.getElementById('headerSearchDropdown');
        
        searchToggle?.addEventListener('click', function(e) {
            e.stopPropagation();
            searchDropdown.classList.toggle('open');
            if (searchDropdown.classList.contains('open')) {
                searchBox.focus();
            }
        });

        document.addEventListener('click', function() {
            searchDropdown.classList.remove('open');
        });
        searchDropdown?.addEventListener('click', (e) => e.stopPropagation());

        // 結束切換
        document.getElementById('toggleEndedBtn')?.addEventListener('click', function() {
            showOnlyEnded = !showOnlyEnded;
            filterCards();
        });

        filterCards();
        updateBanner();
        setInterval(updateBanner, 1000);
    });
})();

// 全域函式
function goToSection(id) { 
    document.getElementById(id)?.scrollIntoView({ behavior: 'smooth', block: 'start' }); 
}

function copyCoupon(id, btn) {
    const code = document.getElementById(id)?.textContent.trim();
    if (!code) return;
    navigator.clipboard.writeText(code).then(() => {
        const t = btn.textContent; 
        btn.textContent = "已複製 ✓";
        setTimeout(() => btn.textContent = t, 2000);
    });
}
 // 搜尋下拉選單開關TAg商品點擊後自動跳到第一個
function scrollToFirstVisibleProduct() {
  const products = document.querySelectorAll('.product-item');

  for (let product of products) {
    // 只找「目前有顯示的商品」
    if (product.offsetParent !== null) {
      product.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
      break;
    }
  }
}
    </script>
<script>
function scrollToFirstVisibleProduct() {
    const firstVisible = Array.from(
        document.querySelectorAll('.product-card')
    ).find(card => card.style.display !== 'none');

    if (!firstVisible) return;

    setTimeout(() => {
        firstVisible.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        });
    }, 300);
}
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById('searchToggle');
    const dropdown = document.getElementById('headerSearchDropdown');
    const input = document.getElementById('searchInput');

    if (!toggleBtn || !dropdown) return;

    // 點擊放大鏡：開 / 關搜尋框
    toggleBtn.addEventListener('click', function (e) {
        e.stopPropagation();
        dropdown.classList.toggle('open');

        if (dropdown.classList.contains('open')) {
            setTimeout(() => input && input.focus(), 50);
        }
    });

    // 點外面自動關閉
    document.addEventListener('click', function (e) {
        if (!dropdown.contains(e.target) && !toggleBtn.contains(e.target)) {
            dropdown.classList.remove('open');
        }
    });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById('searchToggle');
    const dropdown = document.getElementById('headerSearchDropdown');
    const input = document.getElementById('searchInput');

    if (!toggleBtn || !dropdown) return;

    // 點擊放大鏡：開 / 關
    toggleBtn.addEventListener('click', function (e) {
        e.stopPropagation();
        dropdown.classList.toggle('open');

        if (dropdown.classList.contains('open')) {
            setTimeout(() => input && input.focus(), 50);
        }
    });

    // 點外面關閉
    document.addEventListener('click', function (e) {
        if (!dropdown.contains(e.target) && !toggleBtn.contains(e.target)) {
            dropdown.classList.remove('open');
        }
    });
});

function scrollToFirstVisibleProduct() {
    if (window.innerWidth > 1024) return;

    requestAnimationFrame(() => {
        const cards = document.querySelectorAll('.product-card');
        const firstVisible = Array.from(cards).find(card => card.offsetParent !== null);

        if (!firstVisible) return;

        const top =
            firstVisible.getBoundingClientRect().top +
            window.pageYOffset -
            160;

        window.scrollTo({
            top: top,
            behavior: 'smooth'
        });
    });
}

</script>

</body>
</html>
